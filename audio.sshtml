<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audio</title>
  </head>
  <body>
    <!-- Audio element -->
    <audio id="background-audio" loop>
      <source src="nationalanthem.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <script>
      const audio = document.getElementById("background-audio");
      let savedTime = localStorage.getItem("audioTime") || 0;
      let isPlaying = localStorage.getItem("audioPlaying") === "true";

      // Resume from last saved state
      audio.currentTime = savedTime;
      if (isPlaying) {
        audio.play();
      }

      // Save state on time update
      audio.addEventListener("timeupdate", () => {
        localStorage.setItem("audioTime", audio.currentTime);
      });

      // Save play state on play/pause
      audio.addEventListener("play", () => {
        localStorage.setItem("audioPlaying", true);
      });
      audio.addEventListener("pause", () => {
        localStorage.setItem("audioPlaying", false);
      });
    </script>
  </body>
</html>
