<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="favicon.webp" />

    <link
      href="https://fonts.googleapis.com/css2?family=Londrina+Solid&display=swap"
      rel="stylesheet"
    />

    <title>TIMMYS BIRTHDAY</title>
  </head>
  <body>
    <main>
      <h1>HAPPY BIRTHDAY</h1>
      <h2 id="timmy">TIMMY!!!!</h2>
      <div id="btn">
        <a href="billede.html"><button>CLICK ME!!!!</button></a>
      </div>
    </main>

    <!-- Button to start audio playback -->
    <button id="play-audio">&#128266;</button>

    <!-- Audio element for background music -->
    <audio id="background-audio" loop>
      <source src="nationalanthem.mp3" type="audio/mpeg" />
    </audio>

    <!-- JavaScript for managing audio state -->
    <script>
      const audio = document.getElementById("background-audio");
      const playButton = document.getElementById("play-audio");

      // Retrieve saved time and play status
      const savedTime = localStorage.getItem("audioTime") || 0;
      const isPlaying = localStorage.getItem("audioPlaying") === "true";

      // Set saved time and play status
      audio.currentTime = savedTime;
      if (isPlaying) {
        audio.play();
      }

      // Play audio when button is clicked
      playButton.addEventListener("click", () => {
        audio.play();
        localStorage.setItem("audioPlaying", true);
      });

      // Save current time periodically
      audio.addEventListener("timeupdate", () => {
        localStorage.setItem("audioTime", audio.currentTime);
      });

      // Save play status
      audio.addEventListener("play", () => {
        localStorage.setItem("audioPlaying", true);
      });
      audio.addEventListener("pause", () => {
        localStorage.setItem("audioPlaying", false);
      });
    </script>
  </body>
</html>
